---
title: "[Effective C#] 아이템 3: 캐스트보다는 is, as가 좋다"

categories:
  - Effective-CSharp
tags:
  - [CSharp, Book Summary]


toc: false                         # 목차
toc_sticky: false                  # 목차 사이드바 고정

published: false                   #글 공개 여부

date:       2023-08-02T00:00:00+09:00
lastmod:    2023-08-02T00:00:00+09:00
---

<!-- description : 25자에서 160자 사이 -->
**Effective C#의 아이템 3: 캐스트보다는 is, as가 좋다**를 공부하고 정리한 글입니다.<br>
참고 책 : Effective C#
{: .notice--warning}

## 캐스트보다는 is, as가 좋다

- C#은 **정적 타이핑을 수행하는 언어**
  - 따라서 타입 불일치가 발생하더라도 **컴파일러가 이를 걸러주기 때문에** 런타임에 타입 검사를 자주 수행할 필요가 없음
  - 몇몇의 경우 런타임에서 타입 검사를 한다
    - ex) 메서드의 인자를 object 타입을 취하는 경우 런타임에서 타입을 확인한다
- as를 사용하는 편이 캐스팅을 사용하기보다 더 안전하기도 하고 런타임에서 더 효율적으로 동작한다
- 다만 **as나 is 연산자를 사용하면 사용자 정의 형변환은 수행되지 않는다**

```c#
// 형변환 연산자
public static implicit operator MyType(SecondType t)
{
    return t._Value;
}
```

- 캐스팅보다 as를 사용하는 편이 try/catch 문이 없기 때문에 성능이 더 좋다
- **사용자 정의 형변환 연산자는 객체의 런타임 타입이 아닌 컴파일타임 타입에 맞춰 수행**된다
  - 만약 변수의 타입이 object일 경우 캐스팅 타입으로 변환할 수 있는지 여부만 확인한다
  - 그래서 사용자 정의 형변환 연산자를 정의했어도 예외가 발생할 수 있다
- 객체 지향 프로그래밍에서는 가능하면 형변환을 피하는 것이 좋다
  - 다만 형변환이 불가피한 경우도 있디 마련이기에 사용자의 의도를 명확히 표현할 수 있는 is와 as 연산자를 사용
  - 캐스트 연산보다 is나 as를 사용하는 것이 **의도하지 않은 부작용이나 예상치 못한 문제를 피할 수 있는 좋은 방법**이다


***
<br>

    💻 열심히 공부해서 작성 중이니 오류나 틀린 부분이 있을 경우 
      언제든지 댓글 혹은 메일로 알려주시면 감사하겠습니다! 😸


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}